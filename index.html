<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Transparent Tools - Free Engineering Calculators</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Free browser-based engineering calculators and tools. Beam bending, bolt torque, vibration analysis, and more. No signup required, runs entirely in your browser." />
    <meta name="keywords" content="engineering calculator, beam bending, bolt torque, vibration analysis, mechanical engineering, electrical engineering, free tools" />
    <link rel="canonical" href="https://transparent.tools/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://transparent.tools/" />
    <meta property="og:title" content="Transparent Tools - Free Engineering Calculators" />
    <meta property="og:description" content="Free browser-based engineering calculators. Beam bending, bolt torque, vibration analysis, and more. No signup, runs in your browser." />
    <meta property="og:image" content="https://transparent.tools/og-image.png" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://transparent.tools/" />
    <meta name="twitter:title" content="Transparent Tools - Free Engineering Calculators" />
    <meta name="twitter:description" content="Free browser-based engineering calculators. Beam bending, bolt torque, vibration analysis, and more." />
    <meta name="twitter:image" content="https://transparent.tools/og-image.png" />

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YG3SBRRZFZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-YG3SBRRZFZ');
    </script>

    <style>
      :root {
        --bg: #f8f9fa;
        --card: #ffffff;
        --text: #1f2933;
        --muted: #52606d;
        --accent: #2563eb;
        --border: #d2d6dc;
        --radius: 12px;
        font-family: "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont,
          "Helvetica Neue", Arial, sans-serif;
      }

      body {
        margin: 0;
        padding: 0;
        background: var(--bg);
        color: var(--text);
        min-height: 100vh;
      }

      header {
        padding: 3.5rem 1.5rem 2rem;
        text-align: center;
        background: linear-gradient(135deg, #e0f2fe, #eff6ff);
        border-bottom: 1px solid var(--border);
      }

      header h1 {
        margin: 0;
        font-size: clamp(2rem, 4vw, 3rem);
      }

      header p {
        margin: 1rem auto 0;
        max-width: 720px;
        color: var(--muted);
        font-size: 1.05rem;
        line-height: 1.6;
      }

      main {
        max-width: 1100px;
        margin: 0 auto;
        padding: 2rem 1.5rem 4rem;
      }

      .controls {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .control {
        display: flex;
        flex-direction: column;
      }

      .control label {
        font-weight: 600;
        margin-bottom: 0.4rem;
        color: var(--muted);
      }

      .control input[type="search"],
      .control select {
        padding: 0.7rem 0.9rem;
        border-radius: var(--radius);
        border: 1px solid var(--border);
        font-size: 1rem;
        transition: border-color 0.2s, box-shadow 0.2s;
      }

      .control input[type="search"]:focus,
      .control select:focus {
        border-color: var(--accent);
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
        outline: none;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 1.5rem;
      }

      .card {
        background: var(--card);
        border-radius: var(--radius);
        border: 1px solid #e4e7eb;
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        box-shadow: 0 12px 25px -18px rgba(15, 23, 42, 0.45);
        transition: transform 0.18s ease, box-shadow 0.18s ease;
      }

      .card:hover {
        transform: translateY(-4px);
        box-shadow: 0 18px 32px -16px rgba(15, 23, 42, 0.3);
      }

      .card h2 {
        margin: 0;
        font-size: 1.2rem;
      }

      .card p {
        margin: 0;
        color: var(--muted);
        line-height: 1.5;
      }

      .card .meta {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        font-size: 0.9rem;
        color: var(--muted);
      }

      .badge {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        border-radius: 999px;
        padding: 0.25rem 0.65rem;
        background: #eff6ff;
        color: #1d4ed8;
        font-weight: 600;
        font-size: 0.85rem;
      }

      .tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.4rem;
      }

      .tag {
        background: #f3f4f6;
        color: var(--muted);
        padding: 0.2rem 0.55rem;
        border-radius: 999px;
        font-size: 0.78rem;
        letter-spacing: 0.02em;
      }

      .tag--human-verified {
        background: #dcfce7;
        color: #166534;
        border: 1px solid #86efac;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
      }

      .tag--human-verified::before {
        content: "HV";
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 0.7rem;
        font-weight: 700;
        width: 1.1rem;
        height: 1.1rem;
        border-radius: 999px;
        background: #166534;
        color: #fff;
      }

      .tag--experimental {
        background: #fef3c7;
        color: #92400e;
        border: 1px solid #fcd34d;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
      }

      .tag--experimental::before {
        content: "!";
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 0.7rem;
        font-weight: 700;
        width: 1.1rem;
        height: 1.1rem;
        border-radius: 999px;
        background: #92400e;
        color: #fff;
      }

      .section-header {
        grid-column: 1 / -1;
        margin: 1.5rem 0 0.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid var(--border);
      }

      .section-header:first-child {
        margin-top: 0;
      }

      .section-header h2 {
        margin: 0;
        font-size: 1.1rem;
        color: var(--muted);
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .section-header .count {
        font-weight: 400;
        font-size: 0.9rem;
      }

      .card--priority {
        border-left: 3px solid #f59e0b;
      }

      .tag--priority {
        background: #fef3c7;
        color: #92400e;
        font-weight: 600;
      }

      .card a {
        margin-top: auto;
        align-self: flex-start;
        padding: 0.55rem 0.9rem;
        background: var(--accent);
        color: #fff;
        border-radius: var(--radius);
        text-decoration: none;
        font-weight: 600;
        transition: background 0.18s ease;
      }

      .card a:hover {
        background: #1d4ed8;
      }

      .empty-state {
        text-align: center;
        padding: 3rem 1rem;
        color: var(--muted);
        border: 2px dashed var(--border);
        border-radius: var(--radius);
        background: rgba(255, 255, 255, 0.55);
      }

      footer {
        text-align: center;
        padding: 2rem 1rem 3rem;
        color: var(--muted);
        font-size: 0.9rem;
      }
    
    .support-link {
      color: inherit;
      font-weight: 600;
      text-decoration: none;
    }

    .support-link:hover {
      text-decoration: underline;
    }
    </style>
  </head>
  <body>
    <header>
      <h1>Transparent Tools</h1>
      <p>
        Free engineering calculators that run entirely in your browser.
        Browse calculators, visualizers, and reference utilities. No signup, no tracking, no nonsense.
      </p>
    </header>

    <main>
      <section class="controls">
        <div class="control">
          <label for="search">Search</label>
          <input
            type="search"
            id="search"
            placeholder="Search by name, description, or tags..."
            autocomplete="off"
          />
        </div>
        <div class="control">
          <label for="category">Category</label>
          <select id="category">
            <option value="all">All categories</option>
          </select>
        </div>
        <div class="control">
          <label for="status">Status</label>
          <select id="status">
            <option value="all">All tools</option>
            <option value="verified">Verified only</option>
            <option value="experimental">Experimental only</option>
          </select>
        </div>
      </section>

      <section id="tool-grid" class="grid" aria-live="polite"></section>

      <div id="empty-state" class="empty-state" style="display: none;">
        <h2>No tools match your filters</h2>
        <p>Try broadening your search or resetting the category filter.</p>
      </div>
    </main>

    <footer>
      &copy; <span id="year"></span> Engineering Tools. Built for learning and
      rapid engineering trade studies. <a class="support-link" href="https://ko-fi.com/transparent_tools" target="_blank" rel="noopener">Support on Ko-fi</a>
</footer>

    <script>
      const searchInput = document.getElementById("search");
      const categorySelect = document.getElementById("category");
      const statusSelect = document.getElementById("status");
      const grid = document.getElementById("tool-grid");
      const emptyState = document.getElementById("empty-state");
      const year = document.getElementById("year");

      const HUMAN_VERIFIED_TAGS = new Set([
        "human-verified",
        "human verified",
        "human_checked",
        "human checked",
        "human-reviewed",
        "human reviewed",
      ]);
      const HUMAN_VERIFIED_LABEL = "Verified";
      const EXPERIMENTAL_LABEL = "Experimental";

      // Priority tools to verify - show these first in experimental section
      const PRIORITY_TOOLS = [
        "Unit Converter",
        "Reynolds Number Explorer",
        "Battery Runtime Estimator",
        "Bolt Torque Calculator (VDI 2230)_claude",
        "Beam Bending Calculator",
        "Wire Sizing Calculator"
      ];

      let tools = [];

      year.textContent = new Date().getFullYear();

      function isVerified(tool) {
        return (tool.tags || []).some(tag =>
          HUMAN_VERIFIED_TAGS.has(String(tag).trim().toLowerCase())
        );
      }

      async function loadTools() {
        try {
          const response = await fetch("./catalog.json");
          if (!response.ok) throw new Error("Failed to load catalog");
          tools = await response.json();
          renderCategoryFilter(tools);
          renderTools(tools);
        } catch (error) {
          console.error(error);
          grid.innerHTML =
            "<div class='empty-state'><h2>Unable to load catalog</h2><p>Check the console for details.</p></div>";
        }
      }

      function renderCategoryFilter(toolList) {
        const categories = new Set();
        toolList.forEach((tool) => {
          (tool.category || []).forEach((cat) => categories.add(cat));
        });

        const sorted = Array.from(categories).sort((a, b) =>
          a.localeCompare(b)
        );
        sorted.forEach((cat) => {
          const option = document.createElement("option");
          option.value = cat;
          option.textContent = cat;
          categorySelect.appendChild(option);
        });
      }

      function createToolCard(tool) {
        const card = document.createElement("article");
        const verified = isVerified(tool);
        const isPriority = !verified && PRIORITY_TOOLS.includes(tool.title);
        card.className = isPriority ? "card card--priority" : "card";

        const title = document.createElement("h2");
        title.textContent = tool.title;
        card.appendChild(title);

        const description = document.createElement("p");
        description.textContent = tool.description;
        card.appendChild(description);

        if (tool.category?.length) {
          const meta = document.createElement("div");
          meta.className = "meta";
          tool.category.forEach((cat) => {
            const badge = document.createElement("span");
            badge.className = "badge";
            badge.textContent = cat;
            meta.appendChild(badge);
          });
          card.appendChild(meta);
        }

        // Tags container - always show status badge first
        const tagsContainer = document.createElement("div");
        tagsContainer.className = "tags";

        // Add verified or experimental badge first
        const statusTag = document.createElement("span");
        if (verified) {
          statusTag.className = "tag tag--human-verified";
          statusTag.textContent = HUMAN_VERIFIED_LABEL;
          statusTag.title = "This tool has been reviewed and verified by a human maintainer.";
        } else {
          statusTag.className = "tag tag--experimental";
          statusTag.textContent = EXPERIMENTAL_LABEL;
          statusTag.title = "This tool is experimental and has not been fully verified. Use with caution.";
        }
        tagsContainer.appendChild(statusTag);

        // Add "Up Next" tag for priority tools
        if (isPriority) {
          const priorityTag = document.createElement("span");
          priorityTag.className = "tag tag--priority";
          priorityTag.textContent = "Up Next";
          priorityTag.title = "This tool is queued for verification";
          tagsContainer.appendChild(priorityTag);
        }

        // Add other tags (excluding human-verified variants)
        if (tool.tags?.length) {
          tool.tags.forEach((tag) => {
            const normalizedTag = String(tag).trim().toLowerCase();
            if (!HUMAN_VERIFIED_TAGS.has(normalizedTag)) {
              const tagEl = document.createElement("span");
              tagEl.className = "tag";
              tagEl.textContent = tag;
              tagsContainer.appendChild(tagEl);
            }
          });
        }
        card.appendChild(tagsContainer);

        const link = document.createElement("a");
        link.href = tool.path;
        link.textContent = "Open Tool";
        link.setAttribute("aria-label", `Open ${tool.title}`);
        card.appendChild(link);

        return card;
      }

      function renderTools(toolList) {
        grid.innerHTML = "";

        if (!toolList.length) {
          grid.style.display = "none";
          emptyState.style.display = "block";
          return;
        }

        grid.style.display = "grid";
        emptyState.style.display = "none";

        // Separate verified and experimental tools
        const verifiedTools = toolList.filter(isVerified);
        const experimentalTools = toolList.filter(tool => !isVerified(tool));

        // Sort experimental tools: priority tools first, then alphabetically
        experimentalTools.sort((a, b) => {
          const aIsPriority = PRIORITY_TOOLS.includes(a.title);
          const bIsPriority = PRIORITY_TOOLS.includes(b.title);

          if (aIsPriority && !bIsPriority) return -1;
          if (!aIsPriority && bIsPriority) return 1;
          if (aIsPriority && bIsPriority) {
            // Both priority: sort by priority order
            return PRIORITY_TOOLS.indexOf(a.title) - PRIORITY_TOOLS.indexOf(b.title);
          }
          // Neither priority: alphabetical
          return a.title.localeCompare(b.title);
        });

        // Render verified section if there are verified tools
        if (verifiedTools.length > 0) {
          const verifiedHeader = document.createElement("div");
          verifiedHeader.className = "section-header";
          verifiedHeader.innerHTML = `<h2>Verified Tools <span class="count">(${verifiedTools.length})</span></h2>`;
          grid.appendChild(verifiedHeader);

          verifiedTools.forEach((tool) => {
            grid.appendChild(createToolCard(tool));
          });
        }

        // Render experimental section if there are experimental tools
        if (experimentalTools.length > 0) {
          const expHeader = document.createElement("div");
          expHeader.className = "section-header";
          expHeader.innerHTML = `<h2>Experimental Tools <span class="count">(${experimentalTools.length})</span></h2>`;
          grid.appendChild(expHeader);

          experimentalTools.forEach((tool) => {
            grid.appendChild(createToolCard(tool));
          });
        }
      }

      function applyFilters() {
        const query = searchInput.value.trim().toLowerCase();
        const category = categorySelect.value;
        const status = statusSelect.value;

        const filtered = tools.filter((tool) => {
          const matchesCategory =
            category === "all" ||
            (tool.category || []).some(
              (cat) => cat.toLowerCase() === category.toLowerCase()
            );

          const verified = isVerified(tool);
          const matchesStatus =
            status === "all" ||
            (status === "verified" && verified) ||
            (status === "experimental" && !verified);

          const haystack = [
            tool.title,
            tool.description,
            ...(tool.tags || []),
            ...(tool.category || []),
          ]
            .join(" ")
            .toLowerCase();

          const matchesQuery = !query || haystack.includes(query);
          return matchesCategory && matchesStatus && matchesQuery;
        });

        renderTools(filtered);
      }

      searchInput.addEventListener("input", applyFilters);
      categorySelect.addEventListener("change", applyFilters);
      statusSelect.addEventListener("change", applyFilters);

      loadTools();
    </script>
  </body>
</html>
